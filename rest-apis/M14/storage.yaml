"components:\n  schemas:\n    Acl:\n      properties:\n        owners:\n         \
  \ items:\n            type: string\n          type: array\n        viewers:\n  \
  \        items:\n            type: string\n          type: array\n      type: object\n\
  \    BulkUpdateRecordsResponse:\n      properties:\n        lockedRecordIds:\n \
  \         items:\n            type: string\n          type: array\n        notFoundRecordIds:\n\
  \          items:\n            type: string\n          type: array\n        recordCount:\n\
  \          format: int32\n          type: integer\n        recordIds:\n        \
  \  items:\n            type: string\n          type: array\n        unAuthorizedRecordIds:\n\
  \          items:\n            type: string\n          type: array\n      type:\
  \ object\n    ConnectedOuterService:\n      properties:\n        name:\n       \
  \   type: string\n        version:\n          type: string\n      type: object\n\
  \    ConversionStatus:\n      properties:\n        errors:\n          items:\n \
  \           type: string\n          type: array\n        id:\n          type: string\n\
  \        status:\n          type: string\n      type: object\n    CreateUpdateRecordsResponse:\n\
  \      properties:\n        recordCount:\n          format: int32\n          type:\
  \ integer\n        recordIdVersions:\n          items:\n            type: string\n\
  \          type: array\n        recordIds:\n          items:\n            type:\
  \ string\n          type: array\n        skippedRecordIds:\n          items:\n \
  \           type: string\n          type: array\n      type: object\n    DatastoreQueryResult:\n\
  \      properties:\n        cursor:\n          type: string\n        results:\n\
  \          items:\n            type: string\n          type: array\n      type:\
  \ object\n    Legal:\n      properties:\n        legaltags:\n          items:\n\
  \            type: string\n          type: array\n          uniqueItems: true\n\
  \        otherRelevantDataCountries:\n          items:\n            type: string\n\
  \          type: array\n          uniqueItems: true\n        status:\n         \
  \ enum:\n          - compliant\n          - incompliant\n          type: string\n\
  \      required:\n      - otherRelevantDataCountries\n      type: object\n    MultiRecordIds:\n\
  \      properties:\n        attributes:\n          items:\n            type: string\n\
  \          type: array\n        records:\n          items:\n            type: string\n\
  \          maxItems: 100\n          minItems: 0\n          type: array\n      required:\n\
  \      - records\n      type: object\n    MultiRecordInfo:\n      properties:\n\
  \        invalidRecords:\n          items:\n            type: string\n         \
  \ type: array\n        records:\n          items:\n            $ref: '#/components/schemas/Record'\n\
  \          type: array\n        retryRecords:\n          items:\n            type:\
  \ string\n          type: array\n      type: object\n    MultiRecordRequest:\n \
  \     properties:\n        records:\n          items:\n            type: string\n\
  \          maxItems: 20\n          minItems: 1\n          type: array\n      required:\n\
  \      - records\n      type: object\n    MultiRecordResponse:\n      properties:\n\
  \        conversionStatuses:\n          items:\n            $ref: '#/components/schemas/ConversionStatus'\n\
  \          type: array\n        notFound:\n          items:\n            type: string\n\
  \          type: array\n        records:\n          items:\n            type: string\n\
  \          type: array\n      type: object\n    PatchOperation:\n      properties:\n\
  \        op:\n          type: string\n        path:\n          type: string\n  \
  \      value:\n          items:\n            type: string\n          type: array\n\
  \      required:\n      - value\n      type: object\n    Record:\n      properties:\n\
  \        acl:\n          $ref: '#/components/schemas/Acl'\n        ancestry:\n \
  \         $ref: '#/components/schemas/RecordAncestry'\n        data:\n         \
  \ additionalProperties:\n            type: object\n          type: object\n    \
  \    id:\n          pattern: ^[\\w\\-\\.]+:[\\w-\\.]+:[\\w\\-\\.\\:\\%]+$\n    \
  \      type: string\n        kind:\n          type: string\n        legal:\n   \
  \       $ref: '#/components/schemas/Legal'\n        meta:\n          items:\n  \
  \          additionalProperties:\n              type: object\n            type:\
  \ object\n          type: array\n        tags:\n          additionalProperties:\n\
  \            type: string\n          type: object\n        version:\n          format:\
  \ int64\n          type: integer\n      required:\n      - acl\n      - data\n \
  \     type: object\n    RecordAncestry:\n      properties:\n        parents:\n \
  \         items:\n            type: string\n          type: array\n          uniqueItems:\
  \ true\n      type: object\n    RecordBulkUpdateParam:\n      properties:\n    \
  \    ops:\n          items:\n            $ref: '#/components/schemas/PatchOperation'\n\
  \          type: array\n        query:\n          $ref: '#/components/schemas/RecordQuery'\n\
  \      required:\n      - ops\n      - query\n      type: object\n    RecordQuery:\n\
  \      properties:\n        ids:\n          items:\n            type: string\n \
  \         maxItems: 500\n          minItems: 1\n          type: array\n      required:\n\
  \      - ids\n      type: object\n    RecordVersions:\n      properties:\n     \
  \   recordId:\n          type: string\n        versions:\n          items:\n   \
  \         format: int64\n            type: integer\n          type: array\n    \
  \  type: object\n    Schema:\n      properties:\n        ext:\n          additionalProperties:\n\
  \            type: object\n          type: object\n        kind:\n          type:\
  \ string\n        schema:\n          items:\n            $ref: '#/components/schemas/SchemaItem'\n\
  \          type: array\n      required:\n      - kind\n      - schema\n      type:\
  \ object\n    SchemaItem:\n      properties:\n        ext:\n          additionalProperties:\n\
  \            type: object\n          type: object\n        kind:\n          type:\
  \ string\n        path:\n          type: string\n        properties:\n         \
  \ items:\n            $ref: '#/components/schemas/SchemaItem'\n          type: array\n\
  \      required:\n      - kind\n      - path\n      type: object\n    VersionInfo:\n\
  \      properties:\n        artifactId:\n          type: string\n        branch:\n\
  \          type: string\n        buildTime:\n          type: string\n        commitId:\n\
  \          type: string\n        commitMessage:\n          type: string\n      \
  \  connectedOuterServices:\n          items:\n            $ref: '#/components/schemas/ConnectedOuterService'\n\
  \          type: array\n        groupId:\n          type: string\n        version:\n\
  \          type: string\n      type: object\n  securitySchemes:\n    Authorization:\n\
  \      bearerFormat: Authorization\n      scheme: Bearer\n      type: http\ninfo:\n\
  \  title: Storage Service\n  version: '1.0'\nopenapi: 3.0.1\npaths:\n  /health:\n\
  \    get:\n      operationId: healthMessage\n      parameters:\n      - description:\
  \ Tenant Id\n        in: header\n        name: data-partition-id\n        required:\
  \ true\n      responses:\n        '200':\n          content:\n            '*/*':\n\
  \              schema:\n                type: string\n          description: OK\n\
  \      tags:\n      - health-check-api\n  /info:\n    get:\n      operationId: info\n\
  \      parameters:\n      - description: Tenant Id\n        in: header\n       \
  \ name: data-partition-id\n        required: true\n      responses:\n        '200':\n\
  \          content:\n            application/json:\n              schema:\n    \
  \            $ref: '#/components/schemas/VersionInfo'\n          description: OK\n\
  \      tags:\n      - info-api\n  /push-handlers/legaltag-changed:\n    post:\n\
  \      operationId: legaltagChanged\n      parameters:\n      - description: Tenant\
  \ Id\n        in: header\n        name: data-partition-id\n        required: true\n\
  \      responses:\n        '200':\n          content:\n            '*/*':\n    \
  \          schema:\n                type: string\n          description: OK\n  \
  \    tags:\n      - pubsub-endpoints\n  /query/kinds:\n    get:\n      operationId:\
  \ getKinds\n      parameters:\n      - in: query\n        name: cursor\n       \
  \ required: false\n        schema:\n          type: string\n      - in: query\n\
  \        name: limit\n        required: false\n        schema:\n          format:\
  \ int32\n          type: integer\n      - description: Tenant Id\n        in: header\n\
  \        name: data-partition-id\n        required: true\n      responses:\n   \
  \     '200':\n          content:\n            application/json:\n              schema:\n\
  \                $ref: '#/components/schemas/DatastoreQueryResult'\n          description:\
  \ OK\n      tags:\n      - query-api\n  /query/records:\n    get:\n      operationId:\
  \ getAllRecords\n      parameters:\n      - in: query\n        name: cursor\n  \
  \      required: false\n        schema:\n          type: string\n      - in: query\n\
  \        name: limit\n        required: false\n        schema:\n          format:\
  \ int32\n          type: integer\n      - in: query\n        name: kind\n      \
  \  required: true\n        schema:\n          type: string\n      - description:\
  \ Tenant Id\n        in: header\n        name: data-partition-id\n        required:\
  \ true\n      responses:\n        '200':\n          content:\n            application/json:\n\
  \              schema:\n                $ref: '#/components/schemas/DatastoreQueryResult'\n\
  \          description: OK\n      tags:\n      - query-api\n    post:\n      operationId:\
  \ getRecords\n      parameters:\n      - description: Tenant Id\n        in: header\n\
  \        name: data-partition-id\n        required: true\n      requestBody:\n \
  \       content:\n          application/json:\n            schema:\n           \
  \   $ref: '#/components/schemas/MultiRecordIds'\n        required: true\n      responses:\n\
  \        '200':\n          content:\n            application/json:\n           \
  \   schema:\n                $ref: '#/components/schemas/MultiRecordInfo'\n    \
  \      description: OK\n      tags:\n      - query-api\n  /query/records:batch:\n\
  \    post:\n      operationId: fetchRecords\n      parameters:\n      - description:\
  \ Tenant Id\n        in: header\n        name: data-partition-id\n        required:\
  \ true\n      requestBody:\n        content:\n          application/json:\n    \
  \        schema:\n              $ref: '#/components/schemas/MultiRecordRequest'\n\
  \        required: true\n      responses:\n        '200':\n          content:\n\
  \            application/json:\n              schema:\n                $ref: '#/components/schemas/MultiRecordResponse'\n\
  \          description: OK\n      tags:\n      - query-api\n  /records:\n    patch:\n\
  \      operationId: updateRecordsMetadata\n      parameters:\n      - description:\
  \ Tenant Id\n        in: header\n        name: data-partition-id\n        required:\
  \ true\n      requestBody:\n        content:\n          application/json:\n    \
  \        schema:\n              $ref: '#/components/schemas/RecordBulkUpdateParam'\n\
  \        required: true\n      responses:\n        '200':\n          content:\n\
  \            application/json:\n              schema:\n                $ref: '#/components/schemas/BulkUpdateRecordsResponse'\n\
  \          description: OK\n      tags:\n      - patch-api\n    put:\n      operationId:\
  \ createOrUpdateRecords\n      parameters:\n      - in: query\n        name: skipdupes\n\
  \        required: false\n        schema:\n          type: boolean\n      - description:\
  \ Tenant Id\n        in: header\n        name: data-partition-id\n        required:\
  \ true\n      requestBody:\n        content:\n          application/json:\n    \
  \        schema:\n              items:\n                $ref: '#/components/schemas/Record'\n\
  \              maxItems: 500\n              minItems: 0\n              type: array\n\
  \        required: true\n      responses:\n        '201':\n          content:\n\
  \            application/json:\n              schema:\n                $ref: '#/components/schemas/CreateUpdateRecordsResponse'\n\
  \          description: Created\n      tags:\n      - record-api\n  /records/delete:\n\
  \    post:\n      operationId: bulkDeleteRecords\n      parameters:\n      - description:\
  \ Tenant Id\n        in: header\n        name: data-partition-id\n        required:\
  \ true\n      requestBody:\n        content:\n          application/json:\n    \
  \        schema:\n              items:\n                type: string\n         \
  \     maxItems: 500\n              minItems: 0\n              type: array\n    \
  \    required: true\n      responses:\n        '200':\n          description: OK\n\
  \      tags:\n      - record-api\n  /records/versions/{id}:\n    get:\n      operationId:\
  \ getRecordVersions\n      parameters:\n      - in: path\n        name: id\n   \
  \     required: true\n        schema:\n          pattern: ^[\\w\\-\\.]+:[\\w-\\\
  .]+:[\\w\\-\\.\\:\\%]+$\n          type: string\n      - description: Tenant Id\n\
  \        in: header\n        name: data-partition-id\n        required: true\n \
  \     responses:\n        '200':\n          content:\n            application/json:\n\
  \              schema:\n                $ref: '#/components/schemas/RecordVersions'\n\
  \          description: OK\n      tags:\n      - record-api\n  /records/{id}:\n\
  \    delete:\n      operationId: purgeRecord\n      parameters:\n      - in: path\n\
  \        name: id\n        required: true\n        schema:\n          pattern: ^[\\\
  w\\-\\.]+:[\\w-\\.]+:[\\w\\-\\.\\:\\%]+$\n          type: string\n      - description:\
  \ Tenant Id\n        in: header\n        name: data-partition-id\n        required:\
  \ true\n      responses:\n        '200':\n          description: OK\n      tags:\n\
  \      - record-api\n    get:\n      operationId: getLatestRecordVersion\n     \
  \ parameters:\n      - in: path\n        name: id\n        required: true\n    \
  \    schema:\n          pattern: ^[\\w\\-\\.]+:[\\w-\\.]+:[\\w\\-\\.\\:\\%]+$\n\
  \          type: string\n      - in: query\n        name: attribute\n        required:\
  \ false\n        schema:\n          items:\n            type: string\n         \
  \ type: array\n      - description: Tenant Id\n        in: header\n        name:\
  \ data-partition-id\n        required: true\n      responses:\n        '200':\n\
  \          content:\n            application/json:\n              schema:\n    \
  \            type: string\n          description: OK\n      tags:\n      - record-api\n\
  \  /records/{id}/{version}:\n    get:\n      operationId: getSpecificRecordVersion\n\
  \      parameters:\n      - in: path\n        name: id\n        required: true\n\
  \        schema:\n          pattern: ^[\\w\\-\\.]+:[\\w-\\.]+:[\\w\\-\\.\\:\\%]+$\n\
  \          type: string\n      - in: path\n        name: version\n        required:\
  \ true\n        schema:\n          format: int64\n          type: integer\n    \
  \  - in: query\n        name: attribute\n        required: false\n        schema:\n\
  \          items:\n            type: string\n          type: array\n      - description:\
  \ Tenant Id\n        in: header\n        name: data-partition-id\n        required:\
  \ true\n      responses:\n        '200':\n          content:\n            application/json:\n\
  \              schema:\n                type: string\n          description: OK\n\
  \      tags:\n      - record-api\n  /records/{id}:delete:\n    post:\n      operationId:\
  \ deleteRecord\n      parameters:\n      - in: path\n        name: id\n        required:\
  \ true\n        schema:\n          pattern: ^[\\w\\-\\.]+:[\\w-\\.]+:[\\w\\-\\.\\\
  :\\%]+$\n          type: string\n      - description: Tenant Id\n        in: header\n\
  \        name: data-partition-id\n        required: true\n      responses:\n   \
  \     '200':\n          description: OK\n      tags:\n      - record-api\n  /schemas:\n\
  \    post:\n      deprecated: true\n      operationId: createSchema\n      parameters:\n\
  \      - description: Tenant Id\n        in: header\n        name: data-partition-id\n\
  \        required: true\n      requestBody:\n        content:\n          application/json:\n\
  \            schema:\n              $ref: '#/components/schemas/Schema'\n      \
  \  required: true\n      responses:\n        '200':\n          description: OK\n\
  \      tags:\n      - schema-api\n  /schemas/{kind}:\n    delete:\n      deprecated:\
  \ true\n      operationId: deleteSchema\n      parameters:\n      - in: path\n \
  \       name: kind\n        required: true\n        schema:\n          type: string\n\
  \      - description: Tenant Id\n        in: header\n        name: data-partition-id\n\
  \        required: true\n      responses:\n        '200':\n          description:\
  \ OK\n      tags:\n      - schema-api\n    get:\n      deprecated: true\n      operationId:\
  \ getSchema\n      parameters:\n      - in: path\n        name: kind\n        required:\
  \ true\n        schema:\n          type: string\n      - description: Tenant Id\n\
  \        in: header\n        name: data-partition-id\n        required: true\n \
  \     responses:\n        '200':\n          content:\n            application/json:\n\
  \              schema:\n                $ref: '#/components/schemas/Schema'\n  \
  \        description: OK\n      tags:\n      - schema-api\n  /whoami:\n    delete:\n\
  \      operationId: whoami_5\n      parameters:\n      - description: Tenant Id\n\
  \        in: header\n        name: data-partition-id\n        required: true\n \
  \     responses:\n        '200':\n          content:\n            '*/*':\n     \
  \         schema:\n                type: string\n          description: OK\n   \
  \   tags:\n      - whoami-controller\n    get:\n      operationId: whoami\n    \
  \  parameters:\n      - description: Tenant Id\n        in: header\n        name:\
  \ data-partition-id\n        required: true\n      responses:\n        '200':\n\
  \          content:\n            '*/*':\n              schema:\n               \
  \ type: string\n          description: OK\n      tags:\n      - whoami-controller\n\
  \    head:\n      operationId: whoami_1\n      parameters:\n      - description:\
  \ Tenant Id\n        in: header\n        name: data-partition-id\n        required:\
  \ true\n      responses:\n        '200':\n          content:\n            '*/*':\n\
  \              schema:\n                type: string\n          description: OK\n\
  \      tags:\n      - whoami-controller\n    options:\n      operationId: whoami_6\n\
  \      parameters:\n      - description: Tenant Id\n        in: header\n       \
  \ name: data-partition-id\n        required: true\n      responses:\n        '200':\n\
  \          content:\n            '*/*':\n              schema:\n               \
  \ type: string\n          description: OK\n      tags:\n      - whoami-controller\n\
  \    patch:\n      operationId: whoami_4\n      parameters:\n      - description:\
  \ Tenant Id\n        in: header\n        name: data-partition-id\n        required:\
  \ true\n      responses:\n        '200':\n          content:\n            '*/*':\n\
  \              schema:\n                type: string\n          description: OK\n\
  \      tags:\n      - whoami-controller\n    post:\n      operationId: whoami_2\n\
  \      parameters:\n      - description: Tenant Id\n        in: header\n       \
  \ name: data-partition-id\n        required: true\n      responses:\n        '200':\n\
  \          content:\n            '*/*':\n              schema:\n               \
  \ type: string\n          description: OK\n      tags:\n      - whoami-controller\n\
  \    put:\n      operationId: whoami_3\n      parameters:\n      - description:\
  \ Tenant Id\n        in: header\n        name: data-partition-id\n        required:\
  \ true\n      responses:\n        '200':\n          content:\n            '*/*':\n\
  \              schema:\n                type: string\n          description: OK\n\
  \      tags:\n      - whoami-controller\nsecurity:\n- Authorization: []\nservers:\n\
  - url: /api/storage/v2\n"
